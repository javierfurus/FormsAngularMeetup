<!-- main app container -->
<div class="jumbotron">
  <div class="container">
    <div class="row">
      <div class="col-md-8 offset-md-2">
        <form
          name="form"
          (ngSubmit)="f.form.valid && onSubmit()"
          #f="ngForm"
          novalidate
        >
          <div class="form-group">
            <mat-form-field>
              <mat-label for="firstName">First Name</mat-label>
              <input
                matInput
                type="text"
                class="form-control"
                name="firstName"
                [(ngModel)]="model.firstName"
                #firstName="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && firstName.invalid }"
                required
              />
              <mat-error
                *ngIf="f.submitted && firstName.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="firstName.errors.required">
                  First Name is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <mat-label for="lastName">Last Name</mat-label>
              <input
                matInput
                type="text"
                class="form-control"
                name="lastName"
                [(ngModel)]="model.lastName"
                #lastName="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && lastName.invalid }"
                required
              />
              <mat-error
                *ngIf="f.submitted && lastName.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="lastName.errors.required">
                  Last Name is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <mat-label for="password">Password</mat-label>
              <input
                matInput
                type="password"
                class="form-control"
                name="password"
                [(ngModel)]="model.password"
                #password="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && password.invalid }"
                required
                minlength="6"
              />
              <mat-error
                *ngIf="f.submitted && password.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="password.errors.required">Password is required</div>
                <div *ngIf="password.errors.minlength">
                  Password must be at least 6 characters
                </div>
              </mat-error>
            </mat-form-field>
          </div>

          <div>
            <mat-form-field>
              <mat-label for="optEmail">Opt for Emails</mat-label>
              <mat-select
                #optEmail="ngModel"
                class="form-control"
                id="inputAlert"
                name="optEmail"
                [(ngModel)]="model.optEmail"
                [ngClass]="{ 'is-invalid': f.submitted && optEmail.invalid }"
                required
              >
                <mat-option value="undefined" disabled selected hidden
                  >Select</mat-option
                >
                <mat-option value="Yes">Yes</mat-option>
                <mat-option value="No">No</mat-option>
              </mat-select>
              <mat-error
                *ngIf="f.submitted && optEmail.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="optEmail.errors.required">
                  Opt Email is required
                </div>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="form-group" *ngIf="optEmail.value == 'Yes'">
            <mat-form-field>
              <mat-label for="emailOpt">Email Opted for Text</mat-label>
              <input
                matInput
                type="text"
                class="form-control"
                name="emailOptTxt"
                [(ngModel)]="model.emailOptTxt"
                #emailOpttxt="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && emailOpttxt.invalid }"
                required
                email
              />
              <mat-error
                *ngIf="f.submitted && emailOpttxt.invalid"
                class="invalid-feedback"
              >
                <div *ngIf="emailOpttxt.errors.required">
                  Email Opted For is required
                </div>
                <div *ngIf="emailOpttxt.errors.email">
                  Email must be a valid email address
                </div>
              </mat-error>
            </mat-form-field>
          </div>

          <div>
            <button mat-raised-button color="primary">Register</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
